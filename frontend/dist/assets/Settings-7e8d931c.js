import{_ as I,A as h,b as U,d as A,e,w as l,l as w,f as i,g as r,h as _,B as c,a7 as N,b1 as M,J as P,aZ as q,F as B,b2 as F,s as R,ag as D,k as L,L as J,b3 as f}from"./index-9820d523.js";/* empty css                *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                   */const T={class:"settings-container"},G={class:"form-item-help"},O={class:"form-item-help"},H={class:"form-item-help"},Z={class:"settings-actions"},$={__name:"Settings",setup(j){const v={theme:{primaryColor:"#409EFF",darkMode:!1},api:{baseUrl:"/api/v1",timeout:3e5},qa:{useRag:!0,maxContexts:5},analysis:{relationshipDepth:2}},o=h((()=>{try{const n=localStorage.getItem("novel-ai-settings");if(n)return JSON.parse(n)}catch(n){console.error("加载设置失败",n)}return{...v}})()),x=()=>{try{localStorage.setItem("novel-ai-settings",JSON.stringify(o.value)),c.success("设置保存成功"),g()}catch(n){console.error("保存设置失败",n),c.error("设置保存失败")}},y=()=>{o.value={...v},c.success("已恢复默认设置")},g=()=>{o.value.theme.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const n=document.createElement("style");n.innerHTML=`
    :root {
      --el-color-primary: ${o.value.theme.primaryColor};
    }
  `,document.head.appendChild(n)};return g(),(n,t)=>{const d=N,E=M,s=P,V=q,S=B,u=F,m=R,p=D,b=L,k=J,C=w;return U(),A("div",T,[e(C,{shadow:"never",class:"settings-card"},{header:l(()=>t[7]||(t[7]=[i("div",{class:"settings-header"},[i("h2",null,"系统设置")],-1)])),default:l(()=>[e(k,{model:o.value,"label-width":"120px"},{default:l(()=>[e(d,{"content-position":"left"},{default:l(()=>t[8]||(t[8]=[r("外观")])),_:1}),e(s,{label:"主题颜色"},{default:l(()=>[e(E,{modelValue:o.value.theme.primaryColor,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.theme.primaryColor=a),"show-alpha":""},null,8,["modelValue"])]),_:1}),e(s,{label:"深色模式"},{default:l(()=>[e(V,{modelValue:o.value.theme.darkMode,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.theme.darkMode=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(d,{"content-position":"left"},{default:l(()=>t[9]||(t[9]=[r("API设置")])),_:1}),e(s,{label:"API地址"},{default:l(()=>[e(S,{modelValue:o.value.api.baseUrl,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.api.baseUrl=a),placeholder:"请输入API基础地址"},null,8,["modelValue"])]),_:1}),e(s,{label:"API超时"},{default:l(()=>[e(u,{modelValue:o.value.api.timeout,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.api.timeout=a),min:1e3,max:6e4,step:1e3,"controls-position":"right"},null,8,["modelValue"]),t[10]||(t[10]=i("span",{class:"form-item-hint"},"毫秒",-1))]),_:1}),e(d,{"content-position":"left"},{default:l(()=>t[11]||(t[11]=[r("智能问答")])),_:1}),e(s,{label:"默认使用RAG"},{default:l(()=>[e(V,{modelValue:o.value.qa.useRag,"onUpdate:modelValue":t[4]||(t[4]=a=>o.value.qa.useRag=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),i("div",G,[e(p,{content:"启用RAG（检索增强生成）可以让AI根据检索到的小说内容回答问题，提高答案准确性",placement:"top"},{default:l(()=>[e(m,null,{default:l(()=>[e(_(f))]),_:1})]),_:1})])]),_:1}),e(s,{label:"最大上下文数量"},{default:l(()=>[e(u,{modelValue:o.value.qa.maxContexts,"onUpdate:modelValue":t[5]||(t[5]=a=>o.value.qa.maxContexts=a),min:1,max:10,step:1,"controls-position":"right"},null,8,["modelValue"]),i("div",O,[e(p,{content:"检索的小说段落数量，数量越多，回答越全面，但速度会变慢",placement:"top"},{default:l(()=>[e(m,null,{default:l(()=>[e(_(f))]),_:1})]),_:1})])]),_:1}),e(d,{"content-position":"left"},{default:l(()=>t[12]||(t[12]=[r("分析设置")])),_:1}),e(s,{label:"关系图深度"},{default:l(()=>[e(u,{modelValue:o.value.analysis.relationshipDepth,"onUpdate:modelValue":t[6]||(t[6]=a=>o.value.analysis.relationshipDepth=a),min:1,max:5,step:1,"controls-position":"right"},null,8,["modelValue"]),i("div",H,[e(p,{content:"关系网络图的展示深度，深度越大，展示的关系越多",placement:"top"},{default:l(()=>[e(m,null,{default:l(()=>[e(_(f))]),_:1})]),_:1})])]),_:1}),e(d),i("div",Z,[e(b,{type:"primary",onClick:x},{default:l(()=>t[13]||(t[13]=[r("保存设置")])),_:1}),e(b,{onClick:y},{default:l(()=>t[14]||(t[14]=[r("恢复默认")])),_:1})])]),_:1},8,["model"])]),_:1})])}}},te=I($,[["__scopeId","data-v-8055eb8e"]]);export{te as default};
